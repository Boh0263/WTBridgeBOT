# 如何关联您的 WhatsApp 和 Telegram 账户

**注意：跨平台提及目前正在开发中，可能无法正常工作。关联过程有效，但平台间的提及通知有已知问题。**

本指南解释如何关联您的 WhatsApp 和 Telegram 账户，以便提及（@标签）在两个平台上都能工作。一旦关联，在一个平台上标记某人将在另一个平台上通知他们！

## 先决条件

- BridgeBOT 正在运行并连接您的 WhatsApp 和 Telegram 群组。
- 您在两个群组中都有账户。
- 您的短名称已设置（见下文）。

## 步骤 1：在 Telegram 中设置您的短名称

首先，选择一个独特的短名称（1-9 个字母数字字符，无空格）。

1. 转到您的 Telegram 群组。
2. 发送：`/link <您的电话号码> <短名称>`
   - 示例：`/link 1234567890 john`
   - 电话号码：包括国家代码，无 + 或空格。
3. 机器人将以确认或错误回复。

您的短名称现在与您的 Telegram 账户关联。

## 步骤 2：从 WhatsApp 关联

1. 在您的 WhatsApp 群组中发送：`!iam <短名称>`
   - 使用步骤 1 中的相同短名称。
   - 示例：`!iam john`

2. 机器人将向您的 Telegram 账户发送私人消息请求确认。

3. 在 Telegram（与机器人的私人聊天）中回复：`yes`
   - 这必须在 30 秒内完成。

4. 您将在两个应用程序中收到确认消息。

## 步骤 3：测试关联

**注意：由于当前限制，跨平台提及可能无法按预期工作。**

- 在 WhatsApp 中发送消息，标记某人：`@他们的短名称`
- 它应该出现在 Telegram 中（提及功能可能受限）。
- 在 Telegram 中发送消息，标记某人：`@他们的用户名`
- 它应该出现在 WhatsApp 中（提及功能可能受限）。

## 故障排除

### "未找到匹配的 Telegram 用户"
- 确保您的短名称正确且独特。
- 检查 Telegram 用户是否使用 `/link` 设置了他们的短名称。

### "确认过期"
- 30 秒窗口已过。请再次尝试 `!iam <短名称>`。

### "电话号码已关联"
- 其他人使用了该号码。如有必要，首先使用 `/unlink`。

### 提及不工作
- 跨平台提及目前是实验性的，可能有 bug。
- 确保两个用户都已关联（关联有效，但提及可能无效）。
- 检查机器人日志以获取错误。
- 如果映射不加载，请重新启动机器人。

### 命令不工作
- 确保在正确位置发送命令：
  - `/link` 和 `yes`：在 Telegram 与机器人的私人聊天中。
  - `!iam`：在 WhatsApp 群组中。

## 管理您的关联

- **检查状态**：无直接命令，但使用提及测试。
- **取消关联**：在 Telegram 私人聊天中发送 `/unlink`，然后回复 `yes` 确认。
- **更改短名称**：首先取消关联，然后使用新短名称关联。

## 提示

- **短名称规则**：1-9 个字符，仅字母和数字。
- **电话格式**：10-15 位数字，无符号（例如，美国的 1234567890）。
- **隐私**：需要关联才能使跨平台提及工作。
- **群组管理员**：确保机器人有权限读取消息。

## 支持

如果遇到问题：
1. 仔细检查所有步骤。
2. 验证机器人是否在线：检查消息是否被转发。
3. 联系群组管理员或检查机器人日志。

现在您可以在平台之间无缝提及朋友！🎉